<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>BracketGPT Admin</title><link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600;9..40,700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}:root{--bg:#0D1117;--surface:#161B22;--card:#1C2128;--elevated:#252C35;--border:rgba(139,148,158,.12);--text:#E6EDF3;--text2:#8B949E;--muted:#484F58;--green:#3FB950;--gs:rgba(63,185,80,.1);--blue:#58A6FF;--bs:rgba(88,166,255,.08);--orange:#F0883E;--red:#F85149;--r:12px;--mono:'JetBrains Mono',monospace}
html,body{font-family:'DM Sans',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;-webkit-font-smoothing:antialiased}
.w{max-width:860px;margin:0 auto;padding:20px 16px 60px}
.hd{display:flex;align-items:center;gap:12px;margin-bottom:24px;padding-bottom:14px;border-bottom:1px solid var(--border)}
.hd .ic{width:38px;height:38px;border-radius:11px;background:linear-gradient(135deg,var(--green),#238636);display:flex;align-items:center;justify-content:center;font-size:19px}
.hd h1{font-size:18px;font-weight:700}.hd p{font-size:11px;color:var(--text2)}.hd .tg{margin-left:auto;padding:3px 10px;border-radius:7px;font-size:10.5px;font-weight:600}
.s{background:var(--surface);border-radius:var(--r);border:1px solid var(--border);padding:18px;margin-bottom:14px}
.st{font-size:13px;font-weight:700;margin-bottom:2px;display:flex;align-items:center;gap:6px}.st .d{width:6px;height:6px;border-radius:50%;background:var(--green)}
.sd{font-size:11px;color:var(--text2);margin-bottom:12px}
.f{margin-bottom:12px}.f:last-child{margin-bottom:0}
.f label{display:block;font-size:10.5px;font-weight:600;color:var(--text2);margin-bottom:4px;text-transform:uppercase;letter-spacing:.04em}
.f input,.f select{width:100%;padding:8px 11px;background:var(--card);border:1px solid var(--border);border-radius:7px;color:var(--text);font-size:12.5px;font-family:inherit;outline:none}
.f input:focus,.f select:focus{border-color:rgba(88,166,255,.4)}.f select{cursor:pointer}
.row{display:grid;grid-template-columns:1fr 1fr;gap:9px}.row3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:9px}
.sl{display:flex;align-items:center;gap:9px}.sl input[type="range"]{flex:1;-webkit-appearance:none;height:4px;background:var(--card);border-radius:2px;border:none;padding:0}
.sl input[type="range"]::-webkit-slider-thumb{-webkit-appearance:none;width:15px;height:15px;border-radius:50%;background:var(--green);cursor:pointer;border:2px solid var(--bg)}
.sl .v{min-width:34px;text-align:right;font-family:var(--mono);font-size:11.5px;color:var(--green)}
.tr{display:flex;align-items:center;justify-content:space-between;padding:7px 0;border-bottom:1px solid var(--border)}.tr:last-child{border-bottom:none}.tr span{font-size:12.5px;font-weight:500}
.tog{width:38px;height:20px;border-radius:10px;background:var(--muted);position:relative;cursor:pointer;transition:background .2s;border:none}
.tog.on{background:var(--green)}.tog::after{content:'';position:absolute;width:14px;height:14px;border-radius:50%;background:#fff;top:3px;left:3px;transition:transform .2s}.tog.on::after{transform:translateX(18px)}
.btn{padding:8px 16px;border-radius:7px;font-size:12.5px;font-weight:600;font-family:inherit;cursor:pointer;border:none}
.bg{background:var(--green);color:#fff}.bg:hover{background:#2ea043}.br{background:rgba(248,81,73,.1);color:var(--red)}
.dg{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:6px;margin-top:8px}
.ds{padding:7px 10px;border-radius:7px;background:var(--card);border:1px solid var(--border);font-size:11px;font-weight:500}
.ds.ok{border-color:rgba(63,185,80,.2);background:rgba(63,185,80,.06)}.ds i{display:inline-block;width:5px;height:5px;border-radius:50%;margin-right:5px;background:var(--muted)}.ds.ok i{background:var(--green)}
.toast{position:fixed;bottom:20px;right:20px;padding:10px 16px;border-radius:7px;background:var(--green);color:#fff;font-size:11.5px;font-weight:600;box-shadow:0 6px 20px rgba(0,0,0,.3);transform:translateY(80px);opacity:0;transition:all .3s;z-index:99}.toast.show{transform:translateY(0);opacity:1}
.login{position:fixed;inset:0;background:var(--bg);display:flex;align-items:center;justify-content:center;z-index:100}
.lb{background:var(--surface);border:1px solid var(--border);border-radius:var(--r);padding:26px;width:320px;max-width:90vw;text-align:center}
.lb .ic{width:48px;height:48px;border-radius:13px;background:linear-gradient(135deg,var(--green),#238636);display:flex;align-items:center;justify-content:center;font-size:22px;margin:0 auto 12px}
.lb h2{font-size:16px;margin-bottom:3px}.lb p{font-size:11.5px;color:var(--text2);margin-bottom:14px}
.lb input{width:100%;padding:9px;border-radius:7px;background:var(--card);border:1px solid var(--border);color:var(--text);font-size:12.5px;font-family:inherit;outline:none;margin-bottom:9px;text-align:center}
.lb .btn{width:100%}
</style></head><body>
<div class="login" id="login"><div class="lb"><div class="ic">üèÄ</div><h2>BracketGPT Admin</h2><p>Enter admin password</p><input type="password" id="lpw" placeholder="Password" onkeydown="if(event.key==='Enter')doAuth()"><button class="btn bg" onclick="doAuth()">Sign In</button></div></div>
<div class="w" id="panel" style="display:none">
<div class="hd"><div class="ic">üèÄ</div><div><h1>Admin Panel</h1><p>Manage your bracket advisor</p></div><span class="tg" id="tag" style="background:var(--bs);color:var(--blue)">‚Ä¶</span></div>
<div class="s"><div class="st"><span class="d"></span>LLM Config</div><div class="sd">AI provider settings</div><div class="row"><div class="f"><label>Provider</label><select id="prov"><option value="deepseek">DeepSeek</option><option value="claude">Claude</option><option value="gemini">Gemini</option></select></div><div class="f"><label>Model</label><input id="mdl" placeholder="deepseek-chat"></div></div><div class="f"><label>API Key</label><input type="password" id="key" placeholder="sk-‚Ä¶"></div><div class="row"><div class="f"><label>Temperature</label><div class="sl"><input type="range" id="tmp" min="0" max="1" step=".05" value=".7" oninput="V('tv',this.value)"><span class="v" id="tv">0.7</span></div></div><div class="f"><label>Max Tokens</label><input id="tok" value="1200"></div></div></div>
<div class="s"><div class="st"><span class="d"></span>Weights</div><div class="sd">Model influence</div><div class="f"><label>Base</label><div class="sl"><input type="range" id="wb" min="0" max="100" value="60" oninput="V('wbv',this.value+'%')"><span class="v" id="wbv">60%</span></div></div><div class="f"><label>Upset</label><div class="sl"><input type="range" id="wu" min="0" max="100" value="25" oninput="V('wuv',this.value+'%')"><span class="v" id="wuv">25%</span></div></div><div class="f"><label>Floor</label><div class="sl"><input type="range" id="wf" min="0" max="100" value="15" oninput="V('wfv',this.value+'%')"><span class="v" id="wfv">15%</span></div></div></div>
<div class="s"><div class="st"><span class="d"></span>Features</div><div class="tr"><span>Team Profiles</span><button class="tog on" id="ftp" onclick="this.classList.toggle('on')"></button></div><div class="tr"><span>Matchup Data</span><button class="tog on" id="fmd" onclick="this.classList.toggle('on')"></button></div><div class="tr"><span>Optimizer</span><button class="tog on" id="fod" onclick="this.classList.toggle('on')"></button></div><div class="tr"><span>Upset Picks</span><button class="tog on" id="fup" onclick="this.classList.toggle('on')"></button></div><div class="tr"><span>Safety Scores</span><button class="tog on" id="fss" onclick="this.classList.toggle('on')"></button></div><div class="tr"><span>Historical</span><button class="tog on" id="fhc" onclick="this.classList.toggle('on')"></button></div></div>
<div class="s"><div class="st"><span class="d"></span>Branding</div><div class="row3"><div class="f"><label>Name</label><input id="bn" value="BracketGPT"></div><div class="f"><label>Tagline</label><input id="tl"></div><div class="f"><label>Season</label><input id="sn" value="2025"></div></div><div class="f"><label>Rate Limit</label><input id="rl" value="30"></div></div>
<div class="s"><div class="st"><span class="d"></span>Data</div><div class="sd">Upload predictions</div><div class="dg" id="dsg"><div class="ds" id="dt"><i></i>Teams</div><div class="ds" id="db"><i></i>Base</div><div class="ds" id="du"><i></i>Upset</div><div class="ds" id="df"><i></i>Floor</div><div class="ds" id="do"><i></i>Optimizer</div></div><div style="margin-top:10px"><div class="row"><div class="f"><label>Type</label><select id="ut"><option value="teams">Teams</option><option value="base">Base</option><option value="upset">Upset</option><option value="floor">Floor</option><option value="optimizer">Optimizer</option></select></div><div class="f"><label>File</label><input type="file" id="uf" accept=".json" style="padding:6px"></div></div><button class="btn bg" onclick="upld()">Upload</button></div></div>
<div class="s"><div class="st"><span class="d" style="background:var(--orange)"></span>Security</div><div class="row"><div class="f"><label>Old Password</label><input type="password" id="op"></div><div class="f"><label>New Password</label><input type="password" id="np"></div></div><button class="btn br" onclick="chpw()">Change Password</button></div>
<button class="btn bg" onclick="save()" style="width:100%;margin-top:6px;padding:11px">üíæ Save All</button>
</div><div class="toast" id="toast"></div>
<script>
const $=s=>document.getElementById(s),V=(i,v)=>$(i).textContent=v;let pw='';
function toast(m){const t=$('toast');t.textContent=m;t.classList.add('show');setTimeout(()=>t.classList.remove('show'),2500)}
async function doAuth(){pw=$('lpw').value;try{const r=await fetch('/admin/config',{headers:{'x-admin-password':pw}});if(r.ok){$('login').style.display='none';$('panel').style.display='block';fill(await r.json());$('tag').textContent='Connected';$('tag').style.background='rgba(63,185,80,.1)';$('tag').style.color='#3FB950'}else toast('Wrong password')}catch(e){toast('Error')}}
function fill(c){if(c.provider)$('prov').value=c.provider;if(c.model)$('mdl').value=c.model;if(c.apiKey)$('key').value=c.apiKey;if(c.temperature!=null){$('tmp').value=c.temperature;V('tv',c.temperature)}if(c.maxTokens)$('tok').value=c.maxTokens;const w=c.weights||{};if(w.baseWeight!=null){$('wb').value=w.baseWeight*100;V('wbv',Math.round(w.baseWeight*100)+'%')}if(w.upsetWeight!=null){$('wu').value=w.upsetWeight*100;V('wuv',Math.round(w.upsetWeight*100)+'%')}if(w.floorWeight!=null){$('wf').value=w.floorWeight*100;V('wfv',Math.round(w.floorWeight*100)+'%')}const f=c.features||{};if(f.showTeamProfiles!=null)$('ftp').classList.toggle('on',f.showTeamProfiles);if(f.showMatchupData!=null)$('fmd').classList.toggle('on',f.showMatchupData);if(f.showOptimizerData!=null)$('fod').classList.toggle('on',f.showOptimizerData);if(f.showUpsetPicks!=null)$('fup').classList.toggle('on',f.showUpsetPicks);if(f.showSafetyScores!=null)$('fss').classList.toggle('on',f.showSafetyScores);if(f.includeHistoricalContext!=null)$('fhc').classList.toggle('on',f.includeHistoricalContext);if(c.brandName)$('bn').value=c.brandName;if(c.tagline)$('tl').value=c.tagline;if(c.activeSeason)$('sn').value=c.activeSeason;if(c.messagesPerMinute)$('rl').value=c.messagesPerMinute;const ds=c.dataStatus||{};const dm={teams:'dt',base:'db',upset:'du',floor:'df',optimizer:'do'};for(const[k,v]of Object.entries(ds)){const el=$(dm[k]);if(el)el.classList.toggle('ok',!!v)}}
async function save(){const cfg={provider:$('prov').value,model:$('mdl').value,apiKey:$('key').value,temperature:parseFloat($('tmp').value),maxTokens:parseInt($('tok').value),weights:{baseWeight:parseInt($('wb').value)/100,upsetWeight:parseInt($('wu').value)/100,floorWeight:parseInt($('wf').value)/100},features:{showTeamProfiles:$('ftp').classList.contains('on'),showMatchupData:$('fmd').classList.contains('on'),showOptimizerData:$('fod').classList.contains('on'),showUpsetPicks:$('fup').classList.contains('on'),showSafetyScores:$('fss').classList.contains('on'),includeHistoricalContext:$('fhc').classList.contains('on')},brandName:$('bn').value,tagline:$('tl').value,activeSeason:$('sn').value,messagesPerMinute:parseInt($('rl').value)};const r=await fetch('/admin/config',{method:'POST',headers:{'Content-Type':'application/json','x-admin-password':pw},body:JSON.stringify(cfg)});toast(r.ok?'Saved!':'Failed')}
async function upld(){const t=$('ut').value,f=$('uf').files[0];if(!f)return toast('Pick a file');const fd=new FormData();fd.append('file',f);fd.append('type',t);const r=await fetch('/admin/upload',{method:'POST',headers:{'x-admin-password':pw},body:fd});const d=await r.json();const dm={teams:'dt',base:'db',upset:'du',floor:'df',optimizer:'do'};if(d.success){toast(t+' uploaded!');const el=$(dm[t]);if(el)el.classList.add('ok')}else toast('Failed')}
async function chpw(){const r=await fetch('/admin/password',{method:'POST',headers:{'Content-Type':'application/json','x-admin-password':pw},body:JSON.stringify({oldPassword:$('op').value,newPassword:$('np').value})});if(r.ok){pw=$('np').value;toast('Changed!')}else toast('Check old pw')}
</script></body></html>
